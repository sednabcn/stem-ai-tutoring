<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Tutor Dashboard</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/mathtutor.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="../assets/images/favicon-16x16.png" type="image/x-icon">
</head>
<body>
   <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="logo">
            <img src="../assets/images/logo.png" alt="SiMLeng Logo">
        </div>
        <div class="center-text">
            SiMLeng
        </div>
	<div class="menu">
           <a href="../pages/help.html" class="helpcta" id="helpLink">Help</a>
           <div class="header-icons">
               <!-- Notification Bell - Top Right -->
               <div class="icon-wrapper"
			onclick="notificationCenter.togglePanel()";
			onkeydown="if(event.key==='Enter'){notificationCenter.togglePanel()}";
                        role="button" tabindex="0" aria-label="View notifications">
		       <span class="bell-icon" id="notificationBell" aria-hidden="true">üîî</span>
	               <span class="notification-count" id="notificationCount">3</span>
                       <span class="tooltip">Notifications</span>
               </div>

               <!-- Notification Panel -->
               <div class="notification-panel" id="notificationPanel">
                 <div class="panel-header">
                   <div class="panel-title">Notifications</div>
                   <button class="mark-all-read" onclick="window.notificationCenter?.markAllAsRead()">
                        Mark All Read
                   </button>
                 </div>

                 <div class="notification-filters">
                   <button class="filter-btn active" data-filter="all">All</button>
                   <button class="filter-btn" data-filter="incomplete">Incomplete</button>
                   <button class="filter-btn" data-filter="students">Students</button>
                   <button class="filter-btn" data-filter="tutors">Tutors</button>
                   <button class="filter-btn" data-filter="admin">Admin</button>
                 </div>

                 <div class="notification-list" id="notificationList">
                    <!-- Notifications will be populated here -->
                 </div>
               </div> <!--!panel-->

            </div> <!--header icons--> 
           <!-- Avatar Section -->
	   <div class="avatar-container">
             <div class="user-avatar" id="userAvatar" onclick="toggleAvatarMenu(event)">
               <img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%3E%3Crect%20width='44'%20height='44'%20rx='22'%20fill='%23667eea'/%3E%3Ctext%20x='50%25'%20y='50%25'%20text-anchor='middle'%20dy='0.35em'%20fill='white'%20font-family='Arial'%20font-size='16'%20font-weight='600'%3EDR%3C/text%3E%3C/svg%3E" alt="Dr. Rachel Martinez" class="avatar-image" id="avatarImage">
               <div class="avatar-status-indicator active"></div>
             </div>

             <!-- Avatar Dropdown Menu -->
             <div class="avatar-menu" id="avatarMenu">
               <div class="user-info">
                 <img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%3E%3Crect%20width='50'%20height='50'%20rx='25'%20fill='%23667eea'/%3E%3Ctext%20x='50%25'%20y='50%25'%20text-anchor='middle'%20dy='0.35em'%20fill='white'%20font-family='Arial'%20font-size='18'%20font-weight='600'%3EDR%3C/text%3E%3C/svg%3E" alt="User Avatar" id="menuAvatarImage">
                 <div class="user-details">
                   <h3 id="userName">Dr. Rachel Martinez</h3>
                   <div class="role" id="userRole">Mathematics Tutor</div>
                   <div class="status-badge">Verified Tutor</div>
                 </div>
               </div>

               <div class="menu-items">
                 <div class="avatar-menu-item" onclick="showModal('uploadModal')">
                   <span class="icon">üì∑</span>
                   Upload Avatar
                 </div>
                
                 <div class="avatar-menu-item" onclick="showModal('messagesModal')">
                   <span class="icon">üí¨</span>
                   Messages
                   <span class="message-badge" id="messageBadge">3</span>
                 </div>
                
                 <div class="avatar-menu-item" onclick="showModal('profileModal')">
                   <span class="icon">üë§</span>
                   Profile
                 </div>
                
                 <div class="avatar-menu-item" onclick="showModal('teachingModal')">
                   <span class="icon">üìö</span>
                   Teaching Approach
                 </div>
                
                 <div class="avatar-menu-item" onclick="showModal('documentsModal')">
                   <span class="icon">üìÅ</span>
                   Documents
                 </div>
                
                 <div class="avatar-menu-separator"></div>

                 <div class="avatar-menu-item" onclick="showModal('forumModal')">
		   <span class="icon">üë•</span>
		   <span>Tutor Forum</span>
		 </div>
    
		 
                 <div class="avatar-menu-item" onclick="showModal('feedbackModal')">
                   <span class="icon">üí≠</span>
                   Feedback
                 </div>
                
                 <div class="avatar-menu-separator"></div>
                
                 <div class="avatar-menu-item danger" onclick="showModal('logoutModal')">
                   <span class="icon">üö™</span>
                   Logout
                 </div>
               </div>
             </div>
	   </div>

	   <!-- Upload Avatar Modal -->
	   <div class="modal" id="uploadModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2>Upload Avatar</h2>
                 <button class="close-btn" onclick="closeModal('uploadModal')">&times;</button>
               </div>
               <div class="modal-body">
                 <div class="avatar-upload-area">
                   <img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='80'%20height='80'%20viewBox='0%200%2080%2080'%3E%3Crect%20width='80'%20height='80'%20rx='40'%20fill='%23667eea'/%3E%3Ctext%20x='50%25'%20y='50%25'%20text-anchor='middle'%20dy='0.35em'%20fill='white'%20font-family='Arial'%20font-size='28'%20font-weight='600'%3EDR%3C/text%3E%3C/svg%3E" alt="Current Avatar" class="avatar-preview" id="avatarPreview">
                   <div class="upload-section">
                     <p>Click to upload or drag and drop</p>
                     <p style="font-size: 12px; color: #6b7280;">JPG, PNG or GIF (max 2MB)</p>
                     <input type="file" id="avatarUpload" accept="image/*" style="display: none;" onchange="previewAvatar(this)">
                     <button class="form-btn" onclick="document.getElementById('avatarUpload').click()">Choose File</button>
                   </div>
                 </div>
                 <div style="display: flex; gap: 10px; justify-content: flex-end;">
                   <button class="form-btn secondary" onclick="closeModal('uploadModal')">Cancel</button>
                   <button class="form-btn" onclick="uploadAvatar()">Upload</button>
                 </div>
               </div>
             </div>
	   </div>

	   <!-- Profile Modal -->
	   <div class="modal" id="profileModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2>Profile Information</h2>
                 <button class="close-btn" onclick="closeModal('profileModal')">&times;</button>
               </div>
               <div class="modal-body">
                 <div class="profile-info">
                   <div class="info-card">
                     <div class="info-label">Full Name</div>
                     <div class="info-value" id="profileName">Dr. Rachel Martinez</div>
                   </div>
                   <div class="info-card">
                     <div class="info-label">Email</div>
                     <div class="info-value" id="profileEmail">r.martinez@email.com</div>
                   </div>
                   <div class="info-card">
                     <div class="info-label">Role</div>
                     <div class="info-value" id="profileRole">Mathematics Tutor</div>
                   </div>
                   <div class="info-card">
                     <div class="info-label">Status</div>
                     <div class="info-value" id="profileStatus">Active - Verified Tutor</div>
                   </div>
                   <div class="info-card">
                     <div class="info-label">Member Since</div>
                     <div class="info-value" id="profileMemberSince">January 2024</div>
                   </div>
                   <div class="info-card">
                     <div class="info-label">Specialization</div>
                     <div class="info-value" id="profileSpecialization">Advanced Mathematics, Calculus, Statistics</div>
                   </div>
                 </div>
               </div>
             </div>
	   </div>

	   <!-- Teaching Approach Modal -->
	   <div class="modal" id="teachingModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2>Teaching Approach</h2>
                 <button class="close-btn" onclick="closeModal('teachingModal')">&times;</button>
               </div>
               <div class="modal-body">
                 <form id="teachingForm">
                   <div class="form-group">
                     <label class="form-label">Teaching Philosophy</label>
                     <textarea class="form-input form-textarea" id="teachingPhilosophy" placeholder="Describe your teaching philosophy and approach...">I believe in making mathematics accessible and engaging for all students. My approach focuses on building strong foundational understanding while connecting mathematical concepts to real-world applications.</textarea>
                   </div>
                   <div class="form-group">
                     <label class="form-label">Specializations</label>
                     <input type="text" class="form-input" id="specializations" value="Calculus, Statistics, Linear Algebra, Advanced Mathematics" placeholder="List your specializations...">
                   </div>
                   <div class="form-group">
                     <label class="form-label">Experience Level</label>
                     <select class="form-input" id="experienceLevel">
                       <option value="5+ years">5+ years</option>
                       <option value="3-5 years">3-5 years</option>
                       <option value="1-3 years">1-3 years</option>
                       <option value="Less than 1 year">Less than 1 year</option>
                     </select>
                   </div>
                   <div class="form-group">
                     <label class="form-label">Student Engagement Message</label>
                     <textarea class="form-input form-textarea" id="engagementMessage" placeholder="Write a message to engage new students...">Welcome to an exciting journey in mathematics! I'm here to help you discover the beauty and logic behind mathematical concepts. Whether you're struggling with basics or ready for advanced challenges, we'll work together to achieve your goals with patience, clarity, and enthusiasm.</textarea>
                   </div>
                   <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                     <button type="button" class="form-btn secondary" onclick="closeModal('teachingModal')">Cancel</button>
                     <button type="submit" class="form-btn">Update Teaching Profile</button>
                   </div>
                 </form>
               </div>
             </div>
	   </div>

	   <!-- Messages Modal -->
	   <div class="modal" id="messagesModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2>Admin Messages</h2>
                 <button class="close-btn" onclick="closeModal('messagesModal')">&times;</button>
               </div>
               <div class="modal-body" style="padding: 0; max-height: 400px; overflow-y: auto;">
                 <div class="message-item unread" onclick="openMessage(1)">
                   <div class="message-header">
                     <span class="message-sender">üì¢ Platform Admin</span>
                     <div style="display: flex; align-items: center; gap: 8px;">
                       <span class="priority-badge priority-high">High</span>
                       <span class="message-time">2 hours ago</span>
                     </div>
                   </div>
                   <div class="message-subject">New Platform Guidelines - Action Required</div>
                   <div class="message-preview">Please review the updated tutoring guidelines that take effect next week. Your compliance is required by...</div>
                 </div>
                
                 <div class="message-item unread" onclick="openMessage(2)">
                   <div class="message-header">
                     <span class="message-sender">üë• Student Services</span>
                     <div style="display: flex; align-items: center; gap: 8px;">
                       <span class="priority-badge priority-medium">Medium</span>
                       <span class="message-time">1 day ago</span>
                     </div>
                   </div>
                   <div class="message-subject">Student Feedback Summary</div>
                   <div class="message-preview">Your monthly student feedback report is ready for review. Overall rating: 4.8/5 stars...</div>
                 </div>
                
                 <div class="message-item unread" onclick="openMessage(3)">
                   <div class="message-header">
                     <span class="message-sender">üí≥ Billing Department</span>
                     <div style="display: flex; align-items: center; gap: 8px;">
                       <span class="priority-badge priority-low">Low</span>
                       <span class="message-time">3 days ago</span>
                     </div>
                   </div>
                   <div class="message-subject">Payment Processing Update</div>
                   <div class="message-preview">Your earnings for January have been processed. Total: $2,450.00. Direct deposit completed...</div>
                 </div>
                
                 <div class="message-item" onclick="openMessage(4)">
                   <div class="message-header">
                     <span class="message-sender">üéì Academic Team</span>
                     <div style="display: flex; align-items: center; gap: 8px;">
                       <span class="priority-badge priority-medium">Medium</span>
                       <span class="message-time">1 week ago</span>
                     </div>
                   </div>
                   <div class="message-subject">New Course Materials Available</div>
                   <div class="message-preview">Advanced calculus resources have been added to your teaching library. Check the uploads section...</div>
                 </div>
               </div>
             </div>
	   </div>

	   <!-- Individual Message Modal -->
	   <div class="modal" id="messageDetailModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2 id="messageDetailSubject">Message Details</h2>
                 <button class="close-btn" onclick="closeModal('messageDetailModal')">&times;</button>
               </div>
               <div class="modal-body">
                 <div class="message-detail-header" style="border-bottom: 1px solid #f3f4f6; padding-bottom: 16px; margin-bottom: 16px;">
                   <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                     <span class="message-sender" id="messageDetailSender">üì¢ Platform Admin</span>
                     <span class="priority-badge priority-high" id="messageDetailPriority">High Priority</span>
                   </div>
                   <div style="color: #6b7280; font-size: 14px;" id="messageDetailTime">Received 2 hours ago</div>
                 </div>
                 <div class="message-detail-content" id="messageDetailContent">
                   <!-- Message content will be loaded here -->
                 </div>
                 <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                   <button class="form-btn secondary" onclick="markAsRead()">Mark as Read</button>
                   <button class="form-btn" onclick="replyToMessage()">Reply</button>
                 </div>
               </div>
             </div>
	   </div>

	   <!-- Documents Modal -->
	   <div class="modal" id="documentsModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2>Document Uploads</h2>
                 <button class="close-btn" onclick="closeModal('documentsModal')">&times;</button>
               </div>
               <div class="modal-body">
                 <div class="upload-section" onclick="document.getElementById('documentUpload').click()">
                   <p>üìÅ Click to upload documents</p>
                   <p style="font-size: 12px; color: #6b7280;">PDF, DOC, DOCX, PPT, PPTX (max 10MB each)</p>
                   <input type="file" id="documentUpload" multiple accept=".pdf,.doc,.docx,.ppt,.pptx" style="display: none;" onchange="handleDocumentUpload(this)">
                 </div>
                
                 <h3 style="margin: 20px 0 10px 0; font-size: 16px;">Uploaded Documents</h3>
                 <ul class="upload-list" id="uploadList">
                   <li class="upload-item">
                     <span>üìÑ Calculus_Curriculum_2024.pdf</span>
                     <span style="color: #6b7280; font-size: 12px;">2.3 MB - Jan 15, 2024</span>
                   </li>
                   <li class="upload-item">
                     <span>üìä Statistics_Worksheets.docx</span>
                     <span style="color: #6b7280; font-size: 12px;">1.8 MB - Jan 10, 2024</span>
                   </li>
                   <li class="upload-item">
                     <span>üìà Linear_Algebra_Presentation.pptx</span>
                     <span style="color: #6b7280; font-size: 12px;">4.2 MB - Jan 8, 2024</span>
                   </li>
                 </ul>
               </div>
             </div>
	   </div>

           
<!-- Forum Modal -->
	   <div id="forumModal" class="forum-modal">
	     <div class="forum-modal-content">
               <div class="forum-header">
		 <div class="forum-title">
                   <span>üë•</span>
                   <span>Tutor Forum</span>
		 </div>
		 <button class="close-btn" onclick="hideModal('forumModal')">&times;</button>
               </div>

               <div class="forum-tabs">
		 <button class="forum-tab active" onclick="switchForumTab('browse')">Browse Forums</button>
		 <button class="forum-tab" onclick="switchForumTab('myPosts')">My Posts</button>
		 <button class="forum-tab" onclick="switchForumTab('notifications')">Notifications</button>
               </div>

               <div class="forum-body">
		 <!-- Browse Forums Tab -->
		 <div id="browseContent" class="forum-content active">
                   <div class="forum-search">
                     <input type="text" id="forumSearch" placeholder="Search forums, posts, or topics..." oninput="searchForum()">
                   </div>
		   
                   <!-- Breadcrumb Navigation -->
                   <div id="forumBreadcrumb" class="forum-breadcrumb">
                     <a href="#" class="breadcrumb-link" onclick="showAllForums()">All Forums</a>
                     <span>‚Ä∫</span>
                     <span id="currentForumName"></span>
                   </div>

                   <!-- Forums List -->
                   <div id="forumsList">
                     <!-- General Discussion Category -->
                     <div class="forum-category">
                       <div class="forum-category-header" onclick="toggleCategory('general')">
                         <span class="forum-category-title">
                           <span>üí¨</span>
                           <span>General Discussion</span>
                         </span>
                         <span class="forum-category-count">3 forums</span>
                       </div>
                       <div id="generalForums" class="forum-category-forums">
                         <div class="forum-item" onclick="openForum('general-math')">
                           <div class="forum-item-header">
                             <div>
                               <div class="forum-item-title">üî¢ General Math Discussion</div>
                               <div class="forum-item-description">Share ideas, ask questions, and discuss mathematical concepts with fellow tutors.</div>
                             </div>
                             <div class="forum-item-stats">
                               <div class="forum-item-stat">
                                 <span>üìù</span>
                                 <span>1 post</span>
                               </div>
                               <div class="forum-item-stat">
                                 <span>üí¨</span>
                                 <span>8 replies</span>
                               </div>
                             </div>
                           </div>
                           <div class="forum-item-tags">
                             <span class="forum-tag">mathematics</span>
                             <span class="forum-tag">discussion</span>
                             <span class="forum-tag">general</span>
                           </div>
                         </div>

                         <div class="forum-item" onclick="openForum('teaching-tips')">
                           <div class="forum-item-header">
                             <div>
                               <div class="forum-item-title">üí° Teaching Tips & Strategies</div>
                               <div class="forum-item-description">Exchange effective teaching methods, pedagogical approaches, and classroom strategies.</div>
                             </div>
                             <div class="forum-item-stats">
                               <div class="forum-item-stat">
                                 <span>üìù</span>
                                 <span>1 post</span>
                                        </div>
                               <div class="forum-item-stat">
                                 <span>üí¨</span>
                                 <span>15 replies</span>
                               </div>
                             </div>
                           </div>
                                <div class="forum-item-tags">
                                  <span class="forum-tag">teaching</span>
                                  <span class="forum-tag">pedagogy</span>
                                  <span class="forum-tag">strategies</span>
                                </div>
                         </div>
			 
                         <div class="forum-item" onclick="openForum('tutor-lounge')">
                           <div class="forum-item-header">
                             <div>
                               <div class="forum-item-title">‚òï Tutor Lounge</div>
                               <div class="forum-item-description">Casual discussions, networking, and community building among tutors.</div>
                             </div>
                             <div class="forum-item-stats">
                                        <div class="forum-item-stat">
                                          <span>üìù</span>
                                          <span>1 post</span>
                                        </div>
                                        <div class="forum-item-stat">
                                          <span>üí¨</span>
                                          <span>22 replies</span>
                                        </div>
                                    </div>
                           </div>
                           <div class="forum-item-tags">
                             <span class="forum-tag">community</span>
                             <span class="forum-tag">networking</span>
                                    <span class="forum-tag">casual</span>
                           </div>
                         </div>
                       </div>
                     </div>

                     <!-- Help & Support Category -->
                    <div class="forum-category">
                      <div class="forum-category-header" onclick="toggleCategory('help')">
                        <span class="forum-category-title">
                          <span>üÜò</span>
                          <span>Help & Support</span>
                        </span>
                        <span class="forum-category-count">2 forums</span>
                      </div>
                        <div id="helpForums" class="forum-category-forums">
                          <div class="forum-item" onclick="openForum('technical-help')">
                            <div class="forum-item-header">
                              <div>
                                <div class="forum-item-title">üîß Technical Support</div>
                                <div class="forum-item-description">Get help with platform features, technical issues, and troubleshooting.</div>
                              </div>
                              <div class="forum-item-stats">
                                <div class="forum-item-stat">
                                  <span>üìù</span>
                                            <span>0 posts</span>
                                </div>
                                <div class="forum-item-stat">
                                  <span>üí¨</span>
                                  <span>0 replies</span>
                                </div>
                                    </div>
                            </div>
                            <div class="forum-item-tags">
                              <span class="forum-tag">technical</span>
                              <span class="forum-tag">support</span>
                                    <span class="forum-tag">help</span>
                            </div>
                          </div>
			  
                          <div class="forum-item" onclick="openForum('new-tutor-help')">
                            <div class="forum-item-header">
                              <div>
                                <div class="forum-item-title">üöÄ New Tutor Help</div>
                                <div class="forum-item-description">Resources and guidance for tutors new to the platform or profession.</div>
                              </div>
                              <div class="forum-item-stats">
                                <div class="forum-item-stat">
                                  <span>üìù</span>
                                  <span>0 posts</span>
                                </div>
                                        <div class="forum-item-stat">
                                          <span>üí¨</span>
                                          <span>0 replies</span>
                                        </div>
                              </div>
                            </div>
                            <div class="forum-item-tags">
                              <span class="forum-tag">new-tutor</span>
                              <span class="forum-tag">onboarding</span>
                              <span class="forum-tag">guidance</span>
                            </div>
                          </div>
                        </div>
                    </div>
                   </div>

                   <!-- Forum Posts View -->
                   <div id="forumPostsView" style="display: none;">
                     <div style="margin-bottom: 16px;">
                       <button class="create-post-btn" onclick="showModal('createPostModal')">
                         ‚ûï Create New Post
                       </button>
                     </div>
                     <div id="forumPostsList"></div>
                   </div>
		 </div>
		 
		 <!-- My Posts Tab -->
            <div id="myPostsContent" class="forum-content">
              <div class="forum-empty">
                <div class="forum-empty-icon">üìù</div>
                <h3>Your Forum Posts</h3>
                <p>You haven't created any posts yet. Start a discussion to connect with other tutors!</p>
                <button class="form-btn" onclick="showModal('createPostModal')" style="margin-top: 16px;">Create Your First Post</button>
              </div>
            </div>
	    
            <!-- Notifications Tab -->
            <div id="notificationsContent" class="forum-content">
              <div class="forum-empty">
                <div class="forum-empty-icon">üîî</div>
                    <h3>Forum Notifications</h3>
                <p>You'll see notifications here when someone replies to your posts or mentions you.</p>
              </div>
            </div>
               </div>
	     </div>
	   </div>

	   <!-- Create Post Modal -->
	   <div class="modal" id="createPostModal">
	     <div class="modal-content">
               <div class="modal-header">
		 <h2>Create New Post</h2>
		 <button class="close-btn" onclick="hideModal('createPostModal')">&times;</button>
               </div>
               <div class="modal-body">
		 <form id="createPostForm" onsubmit="submitPost(event)">
                   <div class="form-group">
                     <label>Select Forum</label>
                    <select name="forum" id="postForum" required>
                      <option value="">Choose a forum...</option>
                      <option value="general-math">General Math Discussion</option>
                      <option value="teaching-tips">Teaching Tips & Strategies</option>
                      <option value="tutor-lounge">Tutor Lounge</option>
                      <option value="technical-help">Technical Support</option>
                      <option value="new-tutor-help">New Tutor Help</option>
                    </select>
                   </div>
                   <div class="form-group">
                     <label>Post Type</label>
                     <select name="type" id="postType" required>
                        <option value="">Select type...</option>
                        <option value="question">Question</option>
                        <option value="discussion">Discussion</option>
                        <option value="announcement">Announcement</option>
                        <option value="resource">Resource</option>
                     </select>
                   </div>
                <div class="form-group">
                  <label>Title</label>
                  <input type="text" name="title" id="postTitle" required placeholder="Enter your post title...">
                </div>
                <div class="form-group">
                  <label>Content</label>
                  <textarea name="content" id="postContent" required placeholder="Write your post content here..." rows="6"></textarea>
                </div>
                <div class="form-group">
                  <label>Tags (comma-separated)</label>
                  <input type="text" name="tags" id="postTags" placeholder="e.g. mathematics, teaching, beginner">
                </div>
                <div class="modal-actions">
                  <button type="submit" class="form-btn">Create Post</button>
                  <button type="button" class="form-btn secondary" onclick="hideModal('createPostModal')">Cancel</button>
                </div>
		 </form>
               </div>
	     </div>
	   </div>
	   
	   <!-- Feedback Modal -->
	   <div class="modal" id="feedbackModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2>Send Feedback</h2>
                 <button class="close-btn" onclick="closeModal('feedbackModal')">&times;</button>
               </div>
               <div class="modal-body">
		 <form id="feedbackForm" onsubmit="submitFeedback(event)">
                   <div class="form-group">
                     <label class="form-label">Feedback Type</label>
                     <select class="form-input" id="feedbackType">
                       <option value="suggestion">Suggestion</option>
                       <option value="bug">Bug Report</option>
                       <option value="feature">Feature Request</option>
                       <option value="general">General Feedback</option>
                     </select>
                   </div>
                   <div class="form-group">
                     <label class="form-label">Subject</label>
                     <input type="text" class="form-input" id="feedbackSubject" placeholder="Brief description of your feedback">
                   </div>
                   <div class="form-group">
                     <label class="form-label">Message</label>
                     <textarea class="form-input form-textarea" id="feedbackMessage" placeholder="Please provide detailed feedback..." rows="6"></textarea>
                   </div>
                   <div class="form-group">
                     <label class="form-label">Priority</label>
                     <select class="form-input" id="feedbackPriority">
                       <option value="low">Low</option>
                       <option value="medium">Medium</option>
                       <option value="high">High</option>
                     </select>
                   </div>
                   <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                     <button type="button" class="form-btn secondary" onclick="closeModal('feedbackModal')">Cancel</button>
                     <button type="submit" class="form-btn">Send Feedback</button>
                   </div>
                 </form>
               </div>
             </div>
	   </div>

	   <!-- Logout Modal -->
	   <div class="modal" id="logoutModal">
             <div class="modal-content">
               <div class="modal-header">
                 <h2>Confirm Logout</h2>
                 <button class="close-btn" onclick="closeModal('logoutModal')">&times;</button>
               </div>
               <div class="modal-body">
                 <div class="services-contract">
                   <h4>‚ö†Ô∏è Services Contract Notice</h4>
                   <p><strong>IN YOUR HANDS:</strong> By logging out, you acknowledge that any ongoing tutoring sessions or commitments remain your responsibility. Please ensure all student communications are completed and any pending work is properly documented before logging out.</p>
                   <p style="margin-top: 10px; font-size: 13px;"><strong>Note:</strong> You will be redirected to the homepage after logout. Current location: <code>/tutor/</code></p>
                 </div>
                 
                 <p style="margin: 16px 0;">Are you sure you want to logout and return to the homepage? Any unsaved changes will be lost.</p>
                 
                 <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                   <button class="form-btn secondary" onclick="closeModal('logoutModal')">Cancel</button>
                   <button class="form-btn danger" style="background: #dc2626;" onclick="logout()">Logout</button>
                 </div>
               </div>
             </div>
	   </div>


	</div> <!--Avatar-->

    </nav>

    <!-- Header -->
    <header class="header">
      <!-- Header -->
      <div class="header-content">
	  <div class="header-container">
	    <div class="header-text">
	      <h1>Mathematics & Statistics Tutoring</h1>
	      <p class="header-subtitle">Empowering students through personalized learning experiences</p>
	    </div>
	    <img src="../assets/images/teacher.png" alt="Math Tutor Image" class="teacher-img">
	  </div>
          <!-- Dashboard Buttons -->
          <div class="dashboard-buttons">
                <button class="dashboard-btn btn-administrative" onclick="showDashboard('onboarding')" id="onboardingBtn">
                    <i class="fas fa-user-plus btn-icon"></i>
                    Onboarding
                </button>
                <button class="dashboard-btn btn-tutor" onclick="showDashboard('tutor')" id="tutorBtn">
                    <i class="fas fa-lock btn-icon" id="tutorIcon"></i>
                    <span id="tutorBtnText">Tutor Dashboard</span>
                </button>

		<!-- NEW: VLE / Learning Centre -->
		<button class="dashboard-btn btn-learning" onclick="goToVLE(); updateDashboardButtons('vle');" id="vleBtn">
		  <i class="fas fa-book btn-icon"></i>
		  VLE / Learning Centre
		</button>
           </div>
        </div>
     </header>

     <!-- Session Display Area -->
     <main class="session-display">
        <div class="session-content">
          <div id="defaultView" class="session-placeholder">
           </div>
           <!--Onboarding container -->
           <div class="container">
             <div id="onboarding" class="dashboard-section">
               <!-- Welcome Section -->
               <div class="session-active">
                 <div class="welcome-section">
                   <div class="status-badge status-new" id="statusBadge">New Tutor</div>
                    <h2>üéâ Welcome to the Math Tutoring Platform!</h2>
                    <p class="session-description">
                        We're excited to have you join our community of dedicated math educators. Let's get you set up to start helping students succeed and build your tutoring career!
                    </p>
                    <div class="progress-bar">
                      <div class="progress-fill" id="progressFill" style="width: 25%"></div>
                    </div>
                   <p><strong>Profile Completion: <span id="progressText">25%</span></strong></p>
                 </div> <!--welcome-section -->
		 <div class="back-to-home">
		   <button id="back-home-onboard" class="back-btn">‚Üê Back to Home</button>
		 </div>
               </div> <!--section active-->
            
                <!-- Onboarding Cards Grid -->
                <div class="onboarding-container"> 
                    
                    <!-- 1. FIRST CARD: Freelance Agreement (Priority) -->
                    <div class="card priority-card" id="agreementCard">
                        <div class="card-icon">üìã</div>
                        <h3>Freelance Agreement</h3>
                        <div class="status-indicator status-incomplete">
                            <div class="status-dot"></div>
                            <span>Pending Signature</span>
                        </div>
                        <p>Review and sign your freelance math tutor agreement. This must be completed first before proceeding with other verification steps.</p>
                        
                        <div class="document-list">
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-file-contract"></i>
                                    <span>Freelance Agreement</span>
                                </div>
                                <div class="document-status doc-pending">Pending</div>
                            </div>
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-file-signature"></i>
                                    <span>Digital Signature</span>
                                </div>
                                <div class="document-status doc-pending">Required</div>
                            </div>
                        </div>
                        
                        <div class="card-actions single-row">
                            <button class="btn" onclick="signAgreement()">Sign Agreement</button>
                            <button class="btn btn-secondary" onclick="downloadAgreement()">Download PDF</button>
                            <button class="btn btn-secondary" onclick="viewAgreementPreview()">Preview</button>
                        </div>
                    </div>

                    <!-- 2. Upload Credentials & Background Check Card (MERGED) -->
                    <div class="card" id="credentialsCard">
                        <div class="card-icon">üìÑ</div>
                        <h3>Credentials & Background Check</h3>
                        <div class="status-indicator status-incomplete">
                            <div class="status-dot"></div>
                            <span>Not Started</span>
                        </div>
                        <p>Upload your qualifications, certificates, teaching credentials, and DBS background check for verification.</p>
                        
                        <div class="upload-counter">
                            <div class="counter-text">Documents: 0 / 7 Uploaded</div>
                            <div class="counter-limit">CV, Teaching Certificates, Degrees, References, DBS</div>
                        </div>

                        <div class="document-list">
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-file-alt"></i>
                                    <span>CV/Resume</span>
                                </div>
                                <div class="document-status doc-pending">Required</div>
                            </div>
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-graduation-cap"></i>
                                    <span>Teaching Certificates</span>
                                </div>
                                <div class="document-status doc-pending">Required</div>
                            </div>
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-shield-alt"></i>
                                    <span>DBS Certificate</span>
                                </div>
                                <div class="document-status doc-pending">Required</div>
                            </div>
                        </div>
                        
                        <div class="card-actions single-row">
                            <button class="btn" onclick="uploadDocuments()">Upload All</button>
                            <button class="btn btn-secondary" onclick="viewRequirements()">Requirements</button>
                        </div>
                    </div>

                    <!-- 3. Identity Verification Card -->
                    <div class="card" id="identityCard">
                        <div class="card-icon">üÜî</div>
                        <h3>Identity Verification</h3>
                        <div class="status-indicator status-incomplete">
                            <div class="status-dot"></div>
                            <span>Action Required</span>
                        </div>
                        <p>Complete your identity verification by recording a short video saying your full name while showing your ID document.</p>
                        
                        <div class="upload-counter">
                            <div class="counter-text">Steps: 0 / 2 Complete</div>
                            <div class="counter-limit">Video Verification + ID Documents</div>
                        </div>

                        <div class="document-list">
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-video"></i>
                                    <span>Verification Video</span>
                                </div>
                                <div class="document-status doc-pending">Required</div>
                            </div>
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-id-card"></i>
                                    <span>ID Document</span>
                                </div>
                                <div class="document-status doc-pending">Required</div>
                            </div>
                        </div>
                        
                        <div class="card-actions single-row">
                            <button class="btn" onclick="startVideoVerification()">Start Video</button>
                            <button class="btn btn-secondary" onclick="uploadIdOnly()">Upload ID</button>
                        </div>
                    </div>

                    <!-- 4. Set Schedule Card -->
                    <div class="card" id="scheduleCard">
                        <div class="card-icon">üìÖ</div>
                        <h3>Set Your Schedule</h3>
                        <div class="status-indicator status-incomplete">
                            <div class="status-dot"></div>
                            <span>Not Set</span>
                        </div>
                        <p>Configure your availability and manage tutoring sessions. Set your preferred hours, time zones, and break times.</p>
                        
                        <div class="upload-counter">
                            <div class="counter-text">Availability: Not Configured</div>
                            <div class="counter-limit">Set weekday/weekend hours and time zone</div>
                        </div>
                        
                        <div class="card-actions single-row">
                            <button class="btn" onclick="setSchedule()">Set Hours</button>
                            <button class="btn btn-secondary" onclick="viewTemplate()">Template</button>
                        </div>
                    </div>

                    <!-- 5. Find Students Card -->
                    <div class="card" id="studentsCard">
                        <div class="card-icon">üîç</div>
                        <h3>Find Students</h3>
                        <div class="status-indicator status-complete">
                            <div class="status-dot"></div>
                            <span>Ready</span>
                        </div>
                        <p>Browse student requests and connect with learners who need your help. Start building your student base today.</p>
                        
                        <div class="upload-counter">
                            <div class="counter-text">Available Requests: 24</div>
                            <div class="counter-limit">New requests posted daily</div>
                        </div>
                        
                        <div class="card-actions">
                            <button class="btn" onclick="browseStudents()">Browse Requests</button>
                        </div>
                    </div>

                    <!-- 6. Teaching Resources Card -->
                    <div class="card" id="resourcesCard">
                        <div class="card-icon">üìö</div>
                        <h3>Upload Teaching Resources</h3>
                        <div class="status-indicator status-incomplete">
                            <div class="status-dot"></div>
                            <span>Empty</span>
                        </div>
                        <p>Showcase your teaching materials and methodologies. Upload worksheets, lesson plans, and examples.</p>
                        
                        <div class="upload-counter">
                            <div class="counter-text">
                                <span id="resourceCount">0</span> / 10 Resources
                            </div>
                            <div class="counter-limit">
                                PDFs, worksheets, lesson plans, examples
                            </div>
                        </div>
                        
                        <div class="card-actions single-row">
                            <button class="btn" onclick="uploadResources()">Upload</button>
                            <button class="btn btn-secondary" onclick="viewExamples()">Examples</button>
                            <button class="btn btn-secondary" onclick="createResource()">Create</button>
                        </div>
                    </div>

                    <!-- 7. Teaching Tools Card -->
                    <div class="card" id="toolsCard">
                        <div class="card-icon">üõ†Ô∏è</div>
                        <h3>Teaching Tools</h3>
                        <div class="status-indicator status-complete">
                            <div class="status-dot"></div>
                            <span>Available</span>
                        </div>
                        <p>Explore interactive whiteboards, screen sharing, and other tools to enhance your online tutoring sessions.</p>
                        
                        <div class="document-list">
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-chalkboard"></i>
                                    <span>Interactive Whiteboard</span>
                                </div>
                                <div class="document-status doc-approved">Available</div>
                            </div>
                            <div class="document-item">
                                <div class="document-info">
                                    <i class="fas fa-desktop"></i>
                                    <span>Screen Sharing</span>
                                </div>
                                <div class="document-status doc-approved">Available</div>
                            </div>
                        </div>
                        
                        <div class="card-actions">
                            <button class="btn" onclick="exploreTool()">Explore Tools</button>
                        </div>
                    </div>

                    <!-- 8. Analytics Dashboard Card -->
                    <div class="card" id="analyticsCard">
                        <div class="card-icon">üìä</div>
                        <h3>Analytics Dashboard</h3>
                        <div class="status-indicator status-complete">
                            <div class="status-dot"></div>
                            <span>Ready</span>
                        </div>
                        <p>Track your tutoring performance, student feedback, and earnings. Monitor your growth and success metrics.</p>
                        
                        <div class="upload-counter">
                            <div class="counter-text">Dashboard Status: Active</div>
                            <div class="counter-limit">Performance metrics available after first session</div>
                        </div>
                        
                        <div class="card-actions">
                            <button class="btn" onclick="viewAnalytics()">View Analytics</button>
                        </div>
                    </div>

                    <!-- 9. Premium Features Card -->
                    <div class="card premium-card" id="premiumCard">
                        <div class="card-icon">‚≠ê</div>
                        <h3>Premium Features</h3>
                        <div class="status-indicator" style="background: #fff3e0; color: #ef6c00;">
                            <div class="status-dot" style="background: #ff9800;"></div>
                            <span>Upgrade Available</span>
                        </div>
                        <p>Unlock advanced features to boost your tutoring success and earn more students.</p>
                        
                        <div class="upload-counter">
                            <div class="counter-text">Monthly Cost: ¬£19.99</div>
                            <div class="counter-limit">Cancel anytime ‚Ä¢ 30-day free trial</div>
                        </div>
                        
                        <div class="card-actions single-row">
                            <button class="btn" onclick="upgradePremium()">Start Free Trial</button>
                            <button class="btn btn-secondary" onclick="viewPremiumDetails()">Learn More</button>
                        </div>
                    </div>

                </div> <!-- onboarding cards container -->
           </div> <!-- onboarding session-->
       </div> <!-- ontainer -->
     </div> <!-- session content -->

   
 <!--TUTOR-DASHBOARD -->
  <div id="tutor" class="dashboard-section">
    <div class="session-active">
       <div class="status-badge status-new" id="statusBadgeTutor">Active Tutor</div>
      <h2>üéâ Welcome to the Math Tutor Dashboard</h2>
      <p class="session-description">
        Access your tutoring sessions, student progress tracking, lesson plans, 
        and teaching resources. Monitor student performance and manage your 
        tutoring schedule effectively.
      </p>
      <div style="margin-top: 30px;">
        <i class="fas fa-graduation-cap" style="font-size: 2rem; color: #43e97b;"></i>
      </div>
      <div class="back-to-tutor">
	<button id="back-home-tutor" class="back-btn">‚Üê Back to Home</button>
      </div>
    </div> <!-- session-active -->
           
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
        <p style="margin-top: 1rem; color: #666;">Loading...</p>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <div class="dashboard-container">
        <!-- Enhanced Sidebar -->
        <div class="sidebar" id="sidebar">
            <button class="sidebar-close" onclick="closeSidebar()">‚úï</button>
            
            <div class="tutor-profile">
                <div class="tutor-avatar">
                    DR
                    <div class="online-indicator"></div>
                </div>
                <div class="tutor-name">Dr. Rachel Martinez</div>
                <div class="tutor-status">
                    ‚úì Verified Tutor
                </div>
            </div>

            <div class="students-section">
                <div class="section-header">
                    <h3 class="section-title">üìä Active Students</h3>
                    <div class="filter-dropdown">
                        <button class="filter-btn" onclick="toggleFilter()">Filter ‚ñº</button>
                    </div>
                </div>
                
                <div id="studentsList">
                    <!-- Students will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Enhanced Main Content -->
        <div class="main-content">
            <!-- Welcome Header -->
            <div class="welcome-header fade-in">
                <div class="welcome-text">
                    <h1>üéì Professional Tutor Dashboard</h1>
                    <p>Welcome back, Dr. Martinez! Here's your tutoring overview for today.</p>
                </div>
                
                <div class="quick-stats">
                    <div class="stat-card slide-up">
                        <div class="stat-number" id="activeStudents">15</div>
                        <div class="stat-label">Active Students</div>
                        <div class="stat-trend trend-up">‚Üó +3 this week</div>
                    </div>
                    <div class="stat-card slide-up">
                        <div class="stat-number" id="completedSessions">127</div>
                        <div class="stat-label">Completed Sessions</div>
                        <div class="stat-trend trend-up">‚Üó +8 this week</div>
                    </div>
                    <div class="stat-card slide-up">
                        <div class="stat-number" id="averageRating">4.9</div>
                        <div class="stat-label">Average Rating</div>
                        <div class="stat-trend trend-up">‚Üó +0.1 this month</div>
                    </div>
                    <div class="stat-card slide-up">
                        <div class="stat-number" id="monthlyEarnings">$3,240</div>
                        <div class="stat-label">Monthly Earnings</div>
                        <div class="stat-trend trend-up">‚Üó +15% vs last month</div>
                    </div>
                </div>
            </div>

            <!-- Enhanced Navigation Tabs -->
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTab('sessions')">
                    üìÖ Sessions
                </button>
                <button class="nav-tab" onclick="switchTab('progress')">
                    üìà Progress
                </button>
                <button class="nav-tab" onclick="switchTab('messages')">
                    üí¨ Messages
                </button>
                <button class="nav-tab" onclick="switchTab('billing')">
                    üí∞ Billing
                </button>
                <button class="nav-tab" onclick="switchTab('calendar')">
                    üóìÔ∏è Calendar
                </button>
            </div>

            <!-- Sessions Tab -->
            <div id="sessions" class="tab-content">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">üìÖ Session Management</h2>
                        <div class="card-actions">
                            <button class="action-btn secondary" onclick="exportSessions()">
                                üìä Export
                            </button>
                            <button class="action-btn" onclick="scheduleSession()">
                                ‚ûï New Session
                            </button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 1rem; display: flex; gap: 1rem; align-items: center;">
                        <select id="sessionFilter" onchange="filterSessions()" style="padding: 0.5rem; border-radius: 6px; border: 1px solid #ddd;">
                            <option value="all">All Sessions</option>
                            <option value="scheduled">Scheduled</option>
                            <option value="completed">Completed</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                        <input type="date" id="dateFilter" onchange="filterSessions()" style="padding: 0.5rem; border-radius: 6px; border: 1px solid #ddd;">
                    </div>
                    
                    <table class="enhanced-table" id="sessionsTable">
                        <thead>
                            <tr>
                                <th>Student</th>
                                <th>Subject</th>
                                <th>Date & Time</th>
                                <th>Duration</th>
                                <th>Rate</th>
                                <th>Status</th>
                                <th>Payment</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="sessionsTableBody">
                            <!-- Sessions will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Progress Tab -->
            <div id="progress" class="tab-content hidden">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">üìà Student Progress Analytics</h2>
                        <div class="card-actions">
                            <button class="action-btn secondary" onclick="generateReport()">
                                üìã Generate Report
                            </button>
                        </div>
                    </div>
                    
                    <div id="progressContent">
                        <div class="text-center" style="padding: 3rem;">
                            <div style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;">üìä</div>
                            <h3 style="color: #666; margin-bottom: 1rem;">Select a student to view their progress</h3>
                            <p style="color: #999;">Click on any student from the sidebar to see detailed analytics, performance trends, and improvement metrics.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Messages Tab -->
            <div id="messages" class="tab-content hidden">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">üí¨ Student Communication Center</h2>
                        <div class="card-actions">
                            <button class="action-btn secondary" onclick="markAllRead()">
                                ‚úì Mark All Read
                            </button>
                        </div>
                    </div>
                    
                    <div class="chat-container">
                        <div class="chat-header">
                            <div class="chat-user-info">
                                <div class="chat-avatar" id="chatAvatar">?</div>
                                <div>
                                    <div id="chatUserName">Select a student to start chatting</div>
                                    <div class="chat-status" id="chatStatus">Choose from the sidebar</div>
                                </div>
                            </div>
                            <select id="studentChatSelect" onchange="loadStudentChat()" style="padding: 0.5rem; border-radius: 6px; border: none; background: rgba(255,255,255,0.2); color: white;">
                                <option value="">Select student...</option>
                            </select>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            <div class="message received">
                                <div><strong>System:</strong> Welcome to the messaging center. Select a student to view your conversation history.</div>
                                <div class="message-time">Just now</div>
                            </div>
                        </div>
                        
                        <div class="chat-input">
                            <input type="text" id="messageInput" placeholder="Select a student first..." disabled>
                            <button class="send-btn" onclick="sendMessage()" disabled id="sendBtn">
                                Send üì§
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Billing Tab -->
            <div id="billing" class="tab-content hidden">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">üí∞ Billing & Financial Overview</h2>
                        <div class="card-actions">
                            <button class="action-btn secondary" onclick="downloadInvoices()">
                                üìÑ Download Invoices
                            </button>
                            <button class="action-btn" onclick="updateRates()">
                                üí≤ Update Rates
                            </button>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                        <!-- Earnings Overview -->
                        <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                            <h3 style="margin-bottom: 1.5rem; color: #333;">üìä Earnings Overview</h3>
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem; padding-bottom: 0.5rem; border-bottom: 1px solid #f0f0f0;">
                                    <span>This Month:</span>
                                    <strong style="color: #4CAF50;">$3,240</strong>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem; padding-bottom: 0.5rem; border-bottom: 1px solid #f0f0f0;">
                                    <span>Pending Payments:</span>
                                    <strong style="color: #ff9800;">$485</strong>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem; padding-bottom: 0.5rem; border-bottom: 1px solid #f0f0f0;">
                                    <span>Platform Fee (10%):</span>
                                    <strong style="color: #f44336;">-$324</strong>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.8rem; padding: 0.8rem 0; border-top: 2px solid #4CAF50; background: rgba(76, 175, 80, 0.1);">
                                    <span><strong>Net Earnings:</strong></span>
                                    <strong style="color: #4CAF50; font-size: 1.2rem;">$2,916</strong>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Methods -->
                        <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                            <h3 style="margin-bottom: 1.5rem; color: #333;">üí≥ Payment Methods</h3>
                            <div style="margin-bottom: 1.5rem;">
                                <div style="padding: 1rem; border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 1rem; background: #f8f9fa;">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <strong>üè¶ Bank Account ****3456</strong>
                                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">Primary ‚Ä¢ Wells Fargo</div>
                                        </div>
                                        <span style="color: #4CAF50; font-size: 0.8rem;">‚úì Verified</span>
                                    </div>
                                </div>
                                <button class="action-btn secondary" onclick="addPaymentMethod()">
                                    ‚ûï Add Payment Method
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Pricing Plans -->
                    <h3 style="margin: 2rem 0 1rem 0; color: #333;">üéØ Your Teaching Rates</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem;">
                        <div style="border: 2px solid #e0e0e0; border-radius: 12px; padding: 2rem; background: white; transition: all 0.3s;">
                            <div style="font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem;">üìö Standard Tutoring</div>
                            <div style="font-size: 2.5rem; font-weight: bold; color: #4CAF50; margin-bottom: 1rem;">$45<span style="font-size: 1rem; color: #666;">/hour</span></div>
                            <ul style="list-style: none; margin-bottom: 1.5rem; line-height: 1.8;">
                                <li style="position: relative; padding-left: 1.5rem;">‚úì 1-on-1 tutoring sessions</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Homework assistance</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Progress tracking</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Email support</li>
                            </ul>
                            <button class="action-btn" style="width: 100%;">Current Rate</button>
                        </div>

                        <div style="border: 2px solid #4CAF50; border-radius: 12px; padding: 2rem; background: linear-gradient(45deg, rgba(76, 175, 80, 0.05), rgba(69, 160, 73, 0.05)); position: relative;">
                            <div style="position: absolute; top: -10px; right: 15px; background: #4CAF50; color: white; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem;">Most Popular</div>
                            <div style="font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem;">üéì Premium Tutoring</div>
                            <div style="font-size: 2.5rem; font-weight: bold; color: #4CAF50; margin-bottom: 1rem;">$65<span style="font-size: 1rem; color: #666;">/hour</span></div>
                            <ul style="list-style: none; margin-bottom: 1.5rem; line-height: 1.8;">
                                <li style="position: relative; padding-left: 1.5rem;">‚úì All Standard features</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Test preparation</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Custom study materials</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Parent progress reports</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì 24/7 chat support</li>
                            </ul>
                            <button class="action-btn" style="width: 100%; background: linear-gradient(45deg, #4CAF50, #45a049);">Upgrade Rate</button>
                        </div>

                        <div style="border: 2px solid #e0e0e0; border-radius: 12px; padding: 2rem; background: white;">
                            <div style="font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem;">üèÜ Elite Tutoring</div>
                            <div style="font-size: 2.5rem; font-weight: bold; color: #4CAF50; margin-bottom: 1rem;">$85<span style="font-size: 1rem; color: #666;">/hour</span></div>
                            <ul style="list-style: none; margin-bottom: 1.5rem; line-height: 1.8;">
                                <li style="position: relative; padding-left: 1.5rem;">‚úì All Premium features</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì College prep assistance</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Emergency help sessions</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Guaranteed improvement</li>
                                <li style="position: relative; padding-left: 1.5rem;">‚úì Flexible scheduling</li>
                            </ul>
                            <button class="action-btn secondary" style="width: 100%;">Set Elite Rate</button>
                        </div>
                    </div>

                    <!-- Platform Information -->
                    <div style="margin-top: 2rem; padding: 2rem; background: linear-gradient(45deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); border-radius: 12px; border-left: 4px solid #667eea;">
                        <h4 style="color: #333; margin-bottom: 1rem;">üí° SiMLeng Platform Benefits</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                            <div>
                                <strong>üí≥ Secure Payments</strong>
                                <p style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">Students pay directly through our platform with 256-bit encryption</p>
                            </div>
                            <div>
                                <strong>üìä 10% Platform Fee</strong>
                                <p style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">Industry-standard rate with comprehensive support included</p>
                            </div>
                            <div>
                                <strong>üí∞ Weekly Payouts</strong>
                                <p style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">Automatic deposits every Friday to your bank account</p>
                            </div>
                            <div>
                                <strong>üõ°Ô∏è Dispute Protection</strong>
                                <p style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">24/7 support team handles all payment disputes</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendar Tab -->
            <div id="calendar" class="tab-content hidden">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">üóìÔ∏è Schedule Management</h2>
                        <div class="card-actions">
                            <button class="action-btn secondary" onclick="exportCalendar()">
                                üìÖ Export Calendar
                            </button>
                            <button class="action-btn" onclick="setAvailability()">
                                ‚è∞ Set Availability
                            </button>
                        </div>
                    </div>
                    
		    <div style="text-align: center; padding: 3rem; background: white; border-radius: 12px; margin-top: 1rem;"> 
                        <div style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;">üóìÔ∏è</div>
                        <h3 style="color: #666; margin-bottom: 1rem;">Calendar Integration Coming Soon</h3>
                        <p style="color: #999; margin-bottom: 2rem;">Full calendar integration with Google Calendar, Outlook, and Apple Calendar will be available in the next update.</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 2rem;">
                            <div style="padding: 1rem; border: 1px solid #e0e0e0; border-radius: 8px;">
                                <strong>üì± Mobile Sync</strong>
                                <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">Access your schedule on any device</p>
                            </div>
                            <div style="padding: 1rem; border: 1px solid #e0e0e0; border-radius: 8px;">
                                <strong>üîî Smart Reminders</strong>
                                <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">Automatic notifications for upcoming sessions</p>
                            </div>
                            <div style="padding: 1rem; border: 1px solid #e0e0e0; border-radius: 8px;">
                                <strong>üéØ Booking Links</strong>
                                <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">Share your availability with students</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div> <!-- dashboard-section -->

</main>

<!-- Agreement Signature Modal -->
     <div id="agreementModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('agreementModal')">&times;</span>
            <h3>üìã Freelance Math Tutor Agreement</h3>
            
            <div style="max-height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 15px; margin-bottom: 20px; background: #f9f9f9;">
                <h4>Terms and Conditions</h4>
                <p>By signing this agreement, you agree to provide math tutoring services as an independent contractor. You will maintain professional standards, protect student privacy, and follow our code of conduct.</p>
                
                <h4>Key Terms:</h4>
                <ul>
                    <li>Payment: 85% of session fees (15% platform fee)</li>
                    <li>Weekly direct deposit payments</li>
                    <li>Minimum 24-hour cancellation notice</li>
                    <li>Professional conduct required at all times</li>
                    <li>Background check verification mandatory</li>
                </ul>
                
                <h4>Responsibilities:</h4>
                <ul>
                    <li>Provide quality math tutoring services</li>
                    <li>Maintain punctuality and reliability</li>
                    <li>Report any issues or concerns promptly</li>
                    <li>Keep student information confidential</li>
                </ul>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="agreeTerms" required>
                    I have read and agree to the terms and conditions
                </label>
            </div>
            
            <div class="form-group">
                <label for="digitalSignature">Digital Signature (Full Name):</label>
                <input type="text" id="digitalSignature" placeholder="Type your full legal name" required>
            </div>
            
            <div class="form-group">
                <label for="signatureDate">Date:</label>
                <input type="date" id="signatureDate" required>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('agreementModal')">Cancel</button>
                <button class="btn" onclick="submitAgreement()">Sign Agreement</button>
            </div>
            
            <div style="margin-top: 20px; text-align: center;">
                <button class="btn btn-secondary" onclick="proceedToInterview()">Proceed to Interview Questions</button>
            </div>
        </div>
    </div>

    <!-- Interview Questions Modal -->
    <div id="interviewModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('interviewModal')">&times;</span>
            <h3>üìù Tutor Interview Questions</h3>
            <p>Please answer the following questions to help us understand your teaching approach and experience.</p>
            
            <div class="interview-questions">
                <div class="question-item">
                    <h4>1. What is your teaching philosophy and approach to helping students learn mathematics?</h4>
                    <textarea id="question1" placeholder="Describe your teaching methodology and how you engage students..."></textarea>
                </div>
                
                <div class="question-item">
                    <h4>2. How do you handle students who are struggling with math concepts or have math anxiety?</h4>
                    <textarea id="question2" placeholder="Share your strategies for supporting struggling students..."></textarea>
                </div>
                
                <div class="question-item">
                    <h4>3. What age groups and math topics do you feel most confident teaching?</h4>
                    <textarea id="question3" placeholder="List your areas of expertise and preferred grade levels..."></textarea>
                </div>
                
                <div class="question-item">
                    <h4>4. How do you adapt your teaching methods for online tutoring sessions?</h4>
                    <textarea id="question4" placeholder="Describe your experience with online teaching tools and methods..."></textarea>
                </div>
                
                <div class="question-item">
                    <h4>5. Describe a challenging tutoring situation you've encountered and how you resolved it.</h4>
                    <textarea id="question5" placeholder="Share a specific example and your problem-solving approach..."></textarea>
                </div>
                
                <div class="question-item">
                    <h4>6. How do you track student progress and communicate with parents/students about improvement?</h4>
                    <textarea id="question6" placeholder="Explain your assessment and communication strategies..."></textarea>
                </div>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('interviewModal')">Save Draft</button>
                <button class="btn" onclick="submitInterview()">Submit Interview</button>
            </div>
        </div>
    </div>

    <!-- Premium Details Modal -->
    <div id="premiumModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('premiumModal')">&times;</span>
            <h3>‚≠ê Premium Tutor Benefits</h3>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div>
                    <h4>üöÄ Boost Your Visibility</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì Priority placement in search results</li>
                        <li>‚úì Premium tutor badge on profile</li>
                        <li>‚úì Featured in student recommendations</li>
                        <li>‚úì Advanced profile customization</li>
                    </ul>
                </div>
                
                <div>
                    <h4>üìä Advanced Analytics</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì Detailed performance metrics</li>
                        <li>‚úì Student engagement insights</li>
                        <li>‚úì Earnings optimization tips</li>
                        <li>‚úì Competition analysis</li>
                    </ul>
                </div>
                
                <div>
                    <h4>üí∞ Higher Earnings</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì Reduced platform fee (10% vs 15%)</li>
                        <li>‚úì Premium pricing suggestions</li>
                        <li>‚úì Bonus student matches</li>
                        <li>‚úì Early access to high-value requests</li>
                    </ul>
                </div>
                
                <div>
                    <h4>üéØ Better Matching</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úì AI-powered student matching</li>
                        <li>‚úì Compatibility scoring</li>
                        <li>‚úì Automatic proposal submissions</li>
                        <li>‚úì Student preference insights</li>
                    </ul>
                </div>
            </div>
            
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;">
                <h4>üéâ Special Launch Offer</h4>
                <p><strong>30-day free trial</strong> ‚Ä¢ Then ¬£19.99/month ‚Ä¢ Cancel anytime</p>
                <p style="font-size: 0.9rem; color: #666;">Average premium tutors earn 40% more than standard tutors</p>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 20px;">
                <button class="btn" onclick="startPremiumTrial()">Start Free Trial</button>
                <button class="btn btn-secondary" onclick="closeModal('premiumModal')">Maybe Later</button>
            </div>
        </div>
    </div>
    <!-- Notifications Modal -->
    <div id="notificationsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('notificationsModal')">&times;</span>
            <h3>üîî Verification Notifications</h3>
            
            <div id="notificationsList">
                <div class="notification-item">
                    <div class="notification-header">
                        <div class="notification-title">Agreement Signature Required</div>
                        <div class="notification-time">Just now</div>
                    </div>
                    <div class="notification-message">
                        Please sign your freelance agreement to proceed with verification. This is the first required step.
                    </div>
                </div>
                
                <div class="notification-item">
                    <div class="notification-header">
                        <div class="notification-title">Document Upload Pending</div>
                        <div class="notification-time">2 hours ago</div>
                    </div>
                    <div class="notification-message">
                        We're waiting for your CV, teaching certificates, and DBS background check. Upload them in the credentials section.
                    </div>
                </div>
                
                <div class="notification-item">
                    <div class="notification-header">
                        <div class="notification-title">Identity Verification Needed</div>
                        <div class="notification-time">1 day ago</div>
                    </div>
                    <div class="notification-message">
                        Complete your identity verification by recording a video and uploading your ID document.
                    </div>
                </div>
            </div>
        </div>
    </div>


    
    <!--Footer-->
    <footer>
          <div id="footer"></div>
          <script>
            async function loadFooter() {
                try {
                    const response = await fetch('../footer.html');
                    const data = await response.text();
                    document.getElementById("footer").innerHTML = data;
                } catch (error) {
                    console.error('Error loading footer:', error);
                }
            }
            loadFooter();
          </script>
    </footer>
   
    <!-- SHARED SCRIPTS -->
    
    <script src="../assets/js/env-config.js"></script>        <!-- 1. Config first -->
    <script src="../assets/js/document-manager.js"></script>   <!-- 2. Core utilities -->
    <script src="../assets/js/session-loader.js"></script>     <!-- 3. Main controller -->
    <script src="../assets/js/debug-loader.js"></script>       <!-- 4. Debug controller -->
 
</body>
</html>
